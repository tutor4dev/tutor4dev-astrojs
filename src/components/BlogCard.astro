---
import { formatDate } from '@/lib/utils.mjs'
const { id, title, date, tags, intro, image } = Astro.props
const trimIntro = intro.split('').length <= 300 ? intro : `${intro.slice(0, 300)}...`
---

<div class="column is-12-mobile is-4-desktop thumbnail-container">
  <div class="card">
    <a href={`/blogs/${id}`}>
      <div class="card-image">
        <figure class="image">
          <img src={`/images/blogs/${image}`} alt={`${title} image`} />
        </figure>
      </div>
      <div class="card-content is-paddingless-mobile" style="padding: 15px; auto">
        <p class="title is-5 mb-2">{title}</p>
        <p style="margin-top: 5px;">
          <span class="tag is-warning is-small" style="padding: 0 5px;margin-right: 3px;">{formatDate(date)}</span>
        </p>
        <div class="content is-small" style="margin: 5px auto;">{trimIntro}</div>
        <p class="subtitle is-6" style="margin-top: 5px;"></p>
          {
            tags.map(tag => <a href={`/blogs/tags/${tag}`}><span class="tag is-small is-hoverable is-info" style="padding: 0 5px;margin-right: 2px; color:#fff;">#{tag}</span></a>)
          }
        </p>
      </div>
    </a>
    <footer class="card-footer">
      <p class="card-footer-item is-size-7 has-text-grey">
        <a href={`/blogs/${id}`}>
          <span>อ่านต่อ...</span>
        </a>
      </p>
    </footer>
  </div>
</div>

<style>
a:link,
a:visited,
a:hover,
a:active,
a:focus {
  color: inherit;
}
</style>