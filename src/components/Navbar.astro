---
import { tags, activeCourses } from '@/lib/content-collection.mjs'
const { title } = Astro.props
---
<div id="navbarContainer">
  <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href={Astro.url.origin}>
        <img src="/images/brand.png" alt={title}>
      </a>

      <a class="navbar-item" href="https://twitter.com/tutor4dev" style="color:#55acee" target="_blank" aria-label="Twitter">
        <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5.5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
        </svg>
      </a>

      <a class="navbar-item" href="https://facebook.com/YourUsername" style="color:#4267b2" target="_blank" aria-label="Facebook">
        <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
          <path d="M22 12a10 10 0 1 0-11.6 9.87v-6.99H7.89v-2.88h2.51V9.41c0-2.48 1.48-3.86 3.75-3.86 1.09 0 2.23.2 2.23.2v2.45h-1.26c-1.24 0-1.63.77-1.63 1.56v1.87h2.77l-.44 2.88h-2.33v6.99A10 10 0 0 0 22 12"/>
        </svg>
      </a>

      <a class="navbar-item" href="https://www.youtube.com/user/tutor4dev/videos" style="color:#ff0000" target="_blank" aria-label="YouTube">
        <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
          <path d="M23.5 6.5s-.2-1.5-.8-2.2c-.7-.8-1.6-.8-2-0.9C17.3 3 12 3 12 3s-5.3 0-8.7.4c-.4.1-1.3.1-2 .9C.7 5 .5 6.5.5 6.5S0 8.4 0 10.2v1.6c0 1.8.5 3.7.5 3.7s.2 1.5.8 2.2c.7.8 1.6.8 2 0.9 3.4.4 8.7.4 8.7.4s5.3 0 8.7-.4c.4-.1 1.3-.1 2-0.9.6-.7.8-2.2.8-2.2s.5-1.8.5-3.7v-1.6c0-1.8-.5-3.7-.5-3.7zM9.75 15.02V8.98l6.02 3.02-6.02 3.02z"/>
        </svg>
      </a>

      <!--
      <a class="navbar-item" href="https://tiktok.com/@tutor4dev" target="_blank" aria-label="TikTok">
          <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
            <path d="M16.403 1.999A5.88 5.88 0 0 0 13.34.5h-2.688v16.938a2.4 2.4 0 1 1-2.4-2.4c.145 0 .29.016.433.042v-3.13a5.88 5.88 0 1 0 5.08 5.834V8.052c1.228 1.056 2.82 1.7 4.56 1.7v-3.2a3.72 3.72 0 0 1-1.922-.653 3.733 3.733 0 0 1-1.5-3.9z"/>
          </svg>
      </a>
      -->
  
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="nav">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
  
    <div id="nav" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/">หน้าแรก</a>

        <div class="navbar-item has-dropdown is-hoverable is-hidden-touch">
          <a class="navbar-link">บทความ</a>
          <div class="navbar-dropdown">
            {
              tags.map(each => <a class="navbar-item" href={`/blogs/tags/${each}`}>{each}</a>)
            }
          </div>
        </div>
  
        <!--
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">หลักสูตร</a>
          <div class="navbar-dropdown">
            {
              activeCourses.map(({id, data}) => <a class="navbar-item" href={`/courses/${id}`}>{data.title}</a>)
            }
          </div>
        </div>
        -->

        <!--
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">บริการของเรา</a>
          <div class="navbar-dropdown">
            {
              activeServices.map(({id, data}) => <a class="navbar-item" href={`/${id}`}>{data.title}</a>)
            }
          </div>
        </div>
        -->

        <!--
        <a class="navbar-item" href="/service">บริการของเรา</a>
        -->

        <a class="navbar-item" href="/about">เกี่ยวกับเรา</a>
      </div>
      <!--
      <div class="navbar-end">
        <div class="navbar-item">
          <div class="buttons">
            <a class="button is-primary">
              <strong>Sign up</strong>
            </a>
            <a class="button is-light">
              Login
            </a>
          </div>
        </div>
      </div>
      -->
  </nav>
</div>

<script>
function initNavbar() {
  if (document.getElementById('navbarContainer').getAttribute('data-js-initialized') === 'true') {
    return
  }

  const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0)

  $navbarBurgers.forEach(el => {
    el.addEventListener('click', () => {
      const target = el.dataset.target
      const $target = document.getElementById(target)

      el.classList.toggle('is-active')
      $target.classList.toggle('is-active')
    })
  })
}

initNavbar()

document.addEventListener('astro:after-swap', initNavbar)
</script>